(this["webpackJsonplawyer-app"]=this["webpackJsonplawyer-app"]||[]).push([[0],{124:function(e,t,a){},125:function(e,t,a){},126:function(e,t,a){},127:function(e,t,a){"use strict";a.r(t);var n,r=a(0),c=a.n(r),l=a(17),s=a.n(l),u=(a(95),a(96),a(97),a(26)),i=a(27),o=a(29),m=a(28),d=a(33),E=a(30),f=(a(98),a(134)),p=a(135),h=a(129),b=a(133),g=a(81),v=a(20),O=function(e){return c.a.createElement(f.a,{expand:"lg",variant:"dark",fixed:"top",className:"header"},c.a.createElement(f.a.Brand,{className:"header-brand"},"LAWYER REACT APP"),c.a.createElement(p.a.Link,{className:"header-cases"},c.a.createElement(h.a,null,c.a.createElement(v.b,{to:"/"},"Cases"))),c.a.createElement(b.a,{inline:!0,className:"header-search"},c.a.createElement(g.a,{type:"text",placeholder:"Search",className:"mr-sm-2 header-search-input"}),c.a.createElement(h.a,{className:"header-search-btn"},"Search")),c.a.createElement(p.a.Link,{className:"header-login"},e.isAuth?c.a.createElement("div",null,c.a.createElement("div",{className:"header-login-greating"},"Nice to see you, ",e.name,"!"),c.a.createElement(h.a,{className:"header-logout-btn",onClick:e.logOut},"Logout")):c.a.createElement(h.a,{className:"header-login-btn"},c.a.createElement(v.c,{to:"/login"},"Login"))))},C=a(12),y=a(8),j=a.n(y),w=a(19),N=a(23),A={name:null,email:null,isAuth:!1},S=function(e,t){return{type:"SET_USER_DATA",name:e,email:t}},T=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:A,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_USER_DATA":return Object(w.a)({},e,{name:t.name,email:t.email,isAuth:!0});case"SET_LOGOUT":return Object(w.a)({},e,{name:null,email:null,isAuth:!1});case"SET_AUTH_ME":return Object(w.a)({},e);default:return e}},_=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(o.a)(this,Object(m.a)(t).call(this,e))).logOut=a.logOut.bind(Object(d.a)(a)),a}return Object(E.a)(t,e),Object(i.a)(t,[{key:"logOut",value:function(){this.props.logOut()}},{key:"componentDidMount",value:function(){this.props.authMe()}},{key:"render",value:function(){return c.a.createElement(O,Object.assign({},this.props,{logOut:this.logOut}))}}]),t}(c.a.Component),x=Object(C.b)((function(e){return{isAuth:e.auth.isAuth,name:e.auth.name}}),{authMe:function(){return{type:"SET_AUTH_ME"}},logOut:function(){return{type:"SET_LOGOUT"}}})(_),L=a(24),k=a(32),I=a(35),D=a(40),M=a(136),R=a(130),F=a(87),G=a(131),U=a(84),P=a(86),H=(a(124),a(132)),z=function(e){var t=c.a.createRef(),a=c.a.createRef(),r=c.a.createRef(),l=c.a.createRef(),s=c.a.createRef(),u=c.a.createRef(),i=c.a.createRef(),o=function(){n={title:t.current.value,date:a.current.value,adress:r.current.value,firstName:l.current.value,secondName:s.current.value,dob:u.current.value,description:i.current.value},e.updateNewCase(n)};return c.a.createElement("div",null,c.a.createElement(H.a,Object.assign({},e,{size:"lg","aria-labelledby":"contained-modal-title-vcenter",centered:!0}),c.a.createElement(H.a.Header,{closeButton:!0},c.a.createElement(H.a.Title,{id:"contained-modal-title-vcenter"},"To add a new case please fill the fields below:")),c.a.createElement(H.a.Body,null,c.a.createElement("form",null,c.a.createElement("div",null,c.a.createElement("label",null,"Title:"),c.a.createElement("input",{onChange:o,ref:t})),c.a.createElement("div",null,c.a.createElement("label",null,"Date:"),c.a.createElement("input",{onChange:o,ref:a})),c.a.createElement("div",null,c.a.createElement("label",null,"Adress:"),c.a.createElement("input",{onChange:o,ref:r})),c.a.createElement("div",null,c.a.createElement("label",{for:"firstName"},"First name:"),c.a.createElement("input",{if:"firstName",onChange:o,ref:l,required:!0})),c.a.createElement("div",null,c.a.createElement("label",null,"Second name:"),c.a.createElement("input",{onChange:o,ref:s,required:!0})),c.a.createElement("div",null,c.a.createElement("label",null,"Date of birth:"),c.a.createElement("input",{onChange:o,ref:u})),c.a.createElement("div",null,c.a.createElement("label",null,"Description:"),c.a.createElement("input",{onChange:o,ref:i})),c.a.createElement("div",null,c.a.createElement("button",{type:"submit",onClick:function(){e.onHide(),e.uploadCase(n)}},"Save")))),c.a.createElement(H.a.Footer,null,c.a.createElement(h.a,{onClick:e.onHide},"Close"))))},B=Object(C.b)((function(e){return{}}),{updateNewCase:I.d,uploadCase:I.e})(z),J=(a(125),function(e){var t=c.a.useState(!1),a=Object(D.a)(t,2),n=a[0],r=a[1];return n?c.a.createElement(B,{show:n,onHide:function(){return r(!1)},cases:e.cases}):c.a.createElement("div",{className:"cases"},c.a.createElement("header",{className:"cases-header"},"ALL CASES"),c.a.createElement("div",null,c.a.createElement(h.a,{className:"cases-btn",onClick:function(){return r(!0)},variant:"light"},c.a.createElement(U.a,{icon:P.a,size:"5x"}))),c.a.createElement("div",{className:"cases-body"},e.cases.map((function(e){return c.a.createElement(M.a,{key:e._id},c.a.createElement(M.a.Header,null,"No of case: ",e._id),c.a.createElement(R.a,{className:"list-group-flush"},c.a.createElement(F.a,null,"Title: ",e.title),c.a.createElement(F.a,null,"Date: ",e.date),c.a.createElement(F.a,null,"First name: ",e.firstName),c.a.createElement(F.a,null,"Second name: ",e.secondName),c.a.createElement(F.a,null,"Adress: ",e.adress)),c.a.createElement(M.a.Body,null,c.a.createElement(G.a,null,c.a.createElement(h.a,{variant:"primary"},c.a.createElement(v.c,{to:"/cases/"+e._id},"Show")))))})),c.a.createElement("div",null)))}),W=a(45),V=a(75),Z=function(e){function t(){return Object(u.a)(this,t),Object(o.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(E.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){this.props.cases.length||this.props.getCases()}},{key:"render",value:function(){return c.a.createElement(c.a.Fragment,null,this.props.isFetching?c.a.createElement(W.a,null):null,c.a.createElement(J,{cases:this.props.cases}))}}]),t}(c.a.Component),Q=Object(k.d)(V.a,Object(C.b)((function(e){return{cases:e.casesPage.cases,isFetching:e.casesPage.isFetching}}),{getCases:I.c}))(Z),Y=(a(126),function(e){var t=Object(r.useState)(),a=Object(D.a)(t,2),n=a[0],l=a[1],s=Object(r.useState)(),u=Object(D.a)(s,2),i=u[0],o=u[1];return e.isAuth?c.a.createElement(L.a,{to:"/cases"}):c.a.createElement("div",{className:"login-form"},c.a.createElement(b.a,null,c.a.createElement(b.a.Group,{controlId:"formBasicEmail"},c.a.createElement(b.a.Label,null,"Email address"),c.a.createElement(b.a.Control,{type:"string",placeholder:"Enter email",onChange:function(e){return l(e.target.value)}}),c.a.createElement(b.a.Text,{className:"text-muted"},"We'll never share your email with anyone else.")),c.a.createElement(b.a.Group,{controlId:"formBasicPassword"},c.a.createElement(b.a.Label,null,"Password"),c.a.createElement(b.a.Control,{type:"password",placeholder:"Password",onChange:function(e){return o(e.target.value)}})),c.a.createElement(h.a,{variant:"primary",onClick:function(){return e.setLogin(n,i)}},"Submit")))}),X=function(e){function t(){var e,a;Object(u.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(o.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).setLogin=function(e,t){a.props.setLoginData(e,t)},a}return Object(E.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return c.a.createElement(Y,Object.assign({},this.props,{setLogin:this.setLogin}))}}]),t}(c.a.Component),q=Object(C.b)((function(e){return{isAuth:e.auth.isAuth}}),{setLoginData:function(e,t){return function(a){var n;return j.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,j.a.awrap(N.b.loginMe({email:e,password:t}));case 2:200===(n=r.sent).status?(a(S(n.data.name,n.data.email)),alert("You`re loged in!")):alert("Login failed!");case 4:case"end":return r.stop()}}))}}})(X),K=c.a.lazy((function(){return a.e(3).then(a.bind(null,138))})),$=function(){return c.a.createElement("div",{className:"App"},c.a.createElement(x,null),c.a.createElement(L.d,null,c.a.createElement(L.b,{exact:!0,path:"/",render:function(){return c.a.createElement(Q,null)}}),c.a.createElement(L.b,{exact:!0,path:"/cases",render:function(){return c.a.createElement(Q,null)}}),c.a.createElement(L.b,{path:"/login",render:function(){return c.a.createElement(q,null)}}),c.a.createElement(L.b,{path:"/cases/:caseId",render:function(){return c.a.createElement(r.Suspense,{fallback:c.a.createElement(W.a,null)},c.a.createElement(K,null))}})))},ee=a(76),te=a(89),ae=Object(k.c)({casesPage:I.a,caseElementPage:ee.a,auth:T}),ne=Object(k.e)(ae,Object(k.a)(te.a));window.store=ne;var re=ne;s.a.render(c.a.createElement(v.a,null,c.a.createElement(C.a,{store:re},c.a.createElement($,null))),document.getElementById("root"))},23:function(e,t,a){"use strict";a.d(t,"a",(function(){return c})),a.d(t,"b",(function(){return l}));var n=a(83),r=n.create({baseURL:"http://localhost:3000",headers:{"auth-token":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJfaWQiOiI1ZTU2OGI3ZGVhNWE4MzQxM2U0M2RjMTIiLCJpYXQiOjE1ODMwODU3NDN9.xX8_VysEZVWlYVLItbV-Azk88ZT772zjyn0PxyZ0x9Q"}}),c={getCases:function(){return r.get("/cases").then((function(e){return e.data}))},getCaseElement:function(e){return r.get("/cases/"+e)},updateCaseElement:function(e,t){var a=t.title,n=t.date,c=t.adress,l=t.firstName,s=t.secondName,u=t.dob,i=t.description;return r.patch("/cases/"+e,{title:a,date:n,adress:c,firstName:l,secondName:s,dob:u,description:i})},deleteCaseElement:function(e){return r.delete("/cases/"+e)},addCaseElement:function(e){return r.post("/cases",e)}},l={loginMe:function(e,t){return r.post("/users/login",{email:e,password:t})},authMe:function(){return r.get("/users/me")}}},35:function(e,t,a){"use strict";a.d(t,"d",(function(){return i})),a.d(t,"c",(function(){return m})),a.d(t,"e",(function(){return d})),a.d(t,"b",(function(){return E}));var n=a(8),r=a.n(n),c=a(63),l=a(19),s=a(23),u={cases:[],isFetching:!1},i=function(e){return{type:"UPDATE_NEW_CASE",newCase:e}},o=function(e){return{type:"TOGGLE_IS_FETCHING",isFetching:e}},m=function(){return function(e){var t;return r.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return e(o(!0)),a.next=3,r.a.awrap(s.a.getCases());case 3:t=a.sent,e(o(!1)),e({type:"SET_CASES",cases:t});case 6:case"end":return a.stop()}}))}},d=function(e){return function(t){return r.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,r.a.awrap(s.a.addCaseElement(e));case 2:200===a.sent.status&&alert("New case was successfully added!"),t(m());case 5:case"end":return a.stop()}}))}},E=function(e){return function(t){return r.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,r.a.awrap(s.a.deleteCaseElement(e));case 2:200===a.sent.status&&alert("The case was succesfully deleted!"),t(m());case 5:case"end":return a.stop()}}))}};t.a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_CASES":return Object(l.a)({},e,{cases:Object(c.a)(t.cases)});case"ADD_CASE":var a=e.newCase;return Object(l.a)({},e,{newCase:{},cases:[].concat(Object(c.a)(e.cases),[a])});case"UPDATE_NEW_CASE":return Object(l.a)({},e,{newCase:t.newCase});case"TOGGLE_IS_FETCHING":return Object(l.a)({},e,{isFetching:t.isFetching});default:return e}}},45:function(e,t,a){"use strict";var n=a(0),r=a.n(n),c=a(88),l=a.n(c);t.a=function(e){return r.a.createElement("div",{className:"preloader"},r.a.createElement("img",{alt:"preloader",src:l.a}))}},75:function(e,t,a){"use strict";a.d(t,"a",(function(){return E}));var n=a(26),r=a(27),c=a(29),l=a(28),s=a(30),u=a(0),i=a.n(u),o=a(24),m=a(12),d=function(e){return{isAuth:e.auth.isAuth}},E=function(e){var t=function(t){function a(){return Object(n.a)(this,a),Object(c.a)(this,Object(l.a)(a).apply(this,arguments))}return Object(s.a)(a,t),Object(r.a)(a,[{key:"render",value:function(){return this.props.isAuth?i.a.createElement(e,this.props):i.a.createElement(o.a,{to:"/login"})}}]),a}(i.a.Component);return Object(m.b)(d)(t)}},76:function(e,t,a){"use strict";a.d(t,"b",(function(){return i})),a.d(t,"c",(function(){return o}));var n=a(8),r=a.n(n),c=a(19),l=a(23),s={caseElement:{}},u=function(e){return{type:"SET_CASE_ELEMENT",caseElement:e}},i=function(e){return function(t){var a;return r.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,r.a.awrap(l.a.getCaseElement(e));case 2:200===(a=n.sent).status&&t(u(a.data));case 4:case"end":return n.stop()}}))}},o=function(e,t){return function(a){return r.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,r.a.awrap(l.a.updateCaseElement(e,t));case 2:200===n.sent.status&&a(u(t));case 4:case"end":return n.stop()}}))}};t.a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_CASE_ELEMENT":return Object(c.a)({},e,{caseElement:t.caseElement});default:return e}}},88:function(e,t,a){e.exports=a.p+"static/media/preloader.b71c9e01.svg"},90:function(e,t,a){e.exports=a(127)},96:function(e,t,a){},97:function(e,t,a){},98:function(e,t,a){}},[[90,1,2]]]);
//# sourceMappingURL=main.d1405c76.chunk.js.map